<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
    <title>Rock, Paper, Scissors by Team Blue Barracuda</title>
  <!-- Bootstrap Core CSS -->
    <script src="js/jquery.js"></script>
    <script src="js/handlebars-v2.0.0.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
      <style>
      body {
      padding-top: 70px;
      /* Required padding for .navbar-fixed-top. Remove if using .navbar-static-top. Change if height of navigation changes. */
      }
      </style>
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div  id='navbar-container' class="container">
</div>
</nav>

<div  id='body-container' class="container">
</div>

<!-- scripts for templates -->
<script id='log-in-template' type='text/x-handlebars-template'> 
    <div class="navbar-header">
      <p class="navbar-brand">Rock, Paper, Scissors by Team Blue Barracuda</p>                    
    </div>
    <div class="collapse navbar-collapse" id="signin-form" style='display:inline'>
      <input class="navbar-brand pull-right" type='password' id='pass' style='display:inline' placeholder='Password'></input>
      <input class="navbar-brand pull-right" type='text' id='user' style='display:inline' placeholder='Username'></input>
      <a class="navbar-brand pull-right" href="#" id='login'>Login</a>
    </div>
  </script>

<script id='load-buttons-template' type='text/x-handlebars-template'>
  <div id='choice-buttons' class='btn-group btn-group-vertical'>
    <button type="button" class="btn"><i class='glyphicon glyphicon-leaf' style="font-size:48px;"></i></button>
    <button type="button" class="btn"><i class='glyphicon glyphicon-fire' style="font-size:48px;"></i></button>
    <button type="button" class="btn"><i class='glyphicon glyphicon-tint' style="font-size:48px;"></i></button>
  </div>
</script>

<script id='log-out-template' type='text/x-handlebars-template'>
    <div class="navbar-header">
      <li class="active">
        <a href="#" id='home-navigate' class="navbar-brand">Rock, Paper, Scissors by Team Blue Barracuda</a>
      </li>
    </div>
    <div class="collapse navbar-collapse pull-right" id="logout-link">
      <ul class="nav navbar-nav">
        <li>
          <a href="#" id='logout'>Currently logged in as {{u}}. Log Out?</a>
        </li>
      </ul>
    </div>
  </script>
<script id='signup-page-template' type='text/x-handlebars-template'>
    <div class="container" id="signup-container">
      <div class="col-lg-12 text-center">
        <h1>Please sign up if you do not have an account</h1>
        <p class="lead">LOG IN PAGE</p>
        <form id='signup' style='display:inline'>
        <input id='username' placeholder='Username' type='text'></input>
        <br>
        <input id='password' placeholder='Enter Password' type='password'></input>
        <br>
        <input id='password2' placeholder='Enter Password Again' type='password'></input>
        <br>
        <a href="#" id='signup_link'>Sign Up</a>
        </form>
      </div>
    </div>
  </script>
<script id='stats-page-template' type='text/x-handlebars-template'>
    <div class="container" id='player-choose'>
      <button id='game-page'>REDIRECT TO GAME PAGE</button>
      <div class='row'>
        <div class="col-md-4 col-md-offset-2">
        <h3>Please select a player</h3>
        </div>
        <div class="col-md-3" id='player-drop-down'>
         <select id='select'>
            {{#each users}}
            <option value="{{user_id}}">{{u}}<option>// needs to be associated with ajax query
            {{/each}}
         </select>
         </div>
      </div>
     <div class='row'> 
       <div class="col-lg-2 text-center">
       </div>
       <div class="col-lg-3 text-center">
          <h3>Current leaders:</h3>
          <p class="lead">{{name}} : {{count}}</p>
       </div>
       <div class="col-lg-3 text-center">
          <h3>Your progress:</h3>
          <p class="prog">Matches won:{{record['wins']}}</p> // ALL OF THESE NEED HOOKUPS TO DB WITH DUMMY DATA.
          <p class="prog">Matches lost:{{record['loses']}}</p>
       </div>
       <div class="col-lg-3 text-center">
          <h3>Current games:</h3>
          <p class="current"><a href='#'>Match:{{match_id}}</a></p>
       </div>
       <div class="col-lg-2 text-center">
       </div>
      </div>
    </div>
</script>
<script id='game-page-template' type='text/x-handlebars-template'>
  <div class="container" id="game-container">
    <div class="row">
      <div class="col-lg-2 text-center">
        <h1>This is where we make the choice of R, P, S</h1>
        <div id='choice-buttons' class='btn-group btn-group-vertical'>
          <button type="button" class="btn"><i class='glyphicon glyphicon-leaf' style="font-size:48px;"></i></button>
          <button type="button" class="btn"><i class='glyphicon glyphicon-fire' style="font-size:48px;"></i></button>
          <button type="button" class="btn"><i class='glyphicon glyphicon-tint' style="font-size:48px;"></i></button>
        </div>
      </div>
    <div class="col-lg-3 text-center">
      <h1>This will display game host name</h1>
      <p class="lead">GAME</p>
    </div>
    <div class="col-lg-2 text-center">
      <h1>VS button and rematch button</h1>
      <p class="lead">GAME</p>
    </div>
    <div class="col-lg-3 text-center">
      <h1>This will display game guest name</h1>
      <p class="lead">GAME</p>
    </div>
    <div class="col-lg-2 text-center">
      <h1>Maybe Remove This one</h1>
    </div>
    </div>
  <!-- /.row -->

  </div>
</script> 
<!-- js -->
<script>

function user_logged(user_name){
   $('#navbar-container').empty()
    var source = $("#log-out-template").html();
    var template = Handlebars.compile(source);
    
    var myNewHTML = template({
        u: user_name
    });
    $('#navbar-container').append(myNewHTML);
    $('#body-container').empty().append($("#stats-page-template").html())
}


$(document).ready(function(e){
  e.preventDefault;
  $('#navbar-container').append($('#log-in-template').html());
  $('#body-container').append($('#signup-page-template').html());
})

$(document).on('click','#signup_link', function(e) {
  e.preventDefault;
  var username = document.getElementById('username').value;
  var password = document.getElementById('password').value;
  var password2 = document.getElementById('password2').value;
  if (password != password2){
    alert('Passwords do not match');
  }
  else {
  var userInfo = {
    'username': username,
    'password': password
  };
  user_logged(username)
}
})

$(document).on('click','#login', function(e) {
  e.preventDefault;
  var username = document.getElementById('user').value;
  var password = document.getElementById('pass').value;
  var userInfo = {
    'username': username,
    'password': password
  };
  user_logged(username);
  $.ajax({
    //put ajax crap here
  }) 
})

$(document).on('click','#logout', function(e) {
  e.preventDefault;
  $('#navbar-container').empty().append($('#log-in-template').html());
  $('#body-container').empty().append($('#signup-page-template').html());
})

$(document).on('click','#home-navigate', function(e) {
  e.preventDefault;
  //user list
  var list1 = $("#select").html();
  var template1 = Handlebars.compile(list1);
  //leaderboard
  var list2 = $("#lead").html();
  var template2 = Handlebars.compile(list2);
  //current user record
  var list3 = $("#prog").html();
  var template3 = Handlebars.compile(list3);
  //current matches
  var list4 = $("#current").html();
  var template4 = Handlebars.compile(list4);

  var users = template1({ // THIS NEEDS AN AJAX QUERY
    user_id: 1,
    u: john
  });
  $('#body-container').empty().append($("#stats-page-template").html());
})

$(document).on('click','#game-page', function(e) {
  e.preventDefault;
  $('#body-container').empty().append($('#game-page-template').html());
  $('.glyphicon.glyphicon-leaf').css('color','green')
  $('.glyphicon.glyphicon-fire').css('color','red')
  $('.glyphicon.glyphicon-tint').css('color','blue')
  $('.btn').hover(
       function () {
         $(this).css('background-color','black');
       }, 
      function () {
          $(this).css('background-color','');
       }
     );
})

</script>
<!-- jQuery Version 1.11.1 -->

<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>

</body>

</html>
